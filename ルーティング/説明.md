# 
# ルート・ハンドラー

リクエストを処理するために、ミドルウェアのように動作する複数のコールバック関数を指定できます。


複数のコールバック関数で1つのルートを処理できます。（必ず、next()オブジェクトを指定する。）

```javascript
app.get('/example/b', function (req, res, next) {
  console.log('the response will be sent by the next function ...')
  next()
}, function (req, res) {
  res.send('Hello from B!')
})
```

Typescriptで書く場合
src/controllers/userController.ts
```ts
import Express from 'express'
import User from '../models/userModel'

export default {
  index: async (
    req: Express.Request,
    res: Express.Response,
    next: Express.NextFunction
  ) => {
    try {
      const users = await User.find({}).exce()
      res.locals.users = users
      next()
    } catch (err) {
      next(err)
    }
  },
  indexView: (req: Express.Request, res: Express.Response) => {
    res.render('users/index')
  },
}
```

上のハンドルを使用するルーティング
```ts
import Express from 'express'
import usersController from '../controllers/usersController'

const router = Express.Router()

router.get('/', usersController.index, usersController.indexView)

export default router
```
